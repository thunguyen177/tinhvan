<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hypothesis testing: Milk into tea or tea into milk?</title>
    <link rel="stylesheet" href="../../css/style.css"/>
    <script type="text/javascript" src="../../js/latexit.js"></script>
    <script type="text/javascript">
    LatexIT.add('p',true);
    </script>
</head>
<body>
   <header>
        <div class="container">
            <h1> Ellie Nguyen </h1>
        </div>
    </header>

  <nav id="navbar">
      <div class="containerblue">
        <ul>
          <li><a href="../../index.html"> Home</a> </li>
          <li> <a href="../../en/ML%20and%20stat/index.html"> Statistical Learning</a> </li>
          <li> <a href="../../en/programming/index.html">Programming corner</a> </li>
          <li> <a href="../../en/vnm%20cul_his/index.html"> Vietnamese culture and history</a> </li>
        </ul>
      </div>
      <div class="containerpink">
        <ul>
          <li><a href="../../index.html">Trang ch?</a>
          <li><a href="../../vnm/mai%20day%20thong%20ke/index.html">Mai d?y th?ng kê </a>
          <li><a href="../../vnm/sinh%20vien%20cao%20hoc/index.html">Sinh viên cao h?c</a> </li>
          <li><a href="../../vnm/anh%20em%20nha%20Tun/index.html">Anh em nhà Tun</a> </li>
          <li><a href="../../vnm/Hoang%20tu%20ham%20choi/index.html">Hoàng t? ham choi</a>
        </ul>
      </div>
      <div class="containerlightblue">
        <ul>
          <li><a href="../../vnm/Toi%20sang%20tac/index.html">Tôi sáng tác</a> </li>
          <li><a href="../../vnm/hoc%20tieng%20Anh/index.html">Vui h?c ti?ng Anh</a>
          <li><a href="../../vnm/goc%20du%20hoc/index.html">Góc du h?c  </a>
          <li><a href="../../vnm/cuoc%20song%20o%20My/index.html">Cu?c s?ng ? M?</a></li>
        </ul>
      </div>
  </nav>
    <div class = "searchbar">
        <script>
              (function() {
                var cx = '000342376851758299742:vxnvik3_5yc';
                var gcse = document.createElement('script');
                gcse.type = 'text/javascript';
                gcse.async = true;
                gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(gcse, s);
              })();
        </script>
        <gcse:search></gcse:search>
    </div>


<h2>Kiểm định giả thuyết: sữa đổ vào trà hay trà đổ vào sữa?</h2>
<br>Vào một buổi chiều mùa hè năm 1920 ở Cambridge nước Anh, một nhóm cán bộ trường đại học cùng
vợ của họ và một số khách mời đang ngồi quanh một cái bàn tròn để thưởng thức trà. Trong đó, có
một người phụ nữ khẳng định rằng, Nếu trà được đổ vào sữa thì sẽ có hương vị khác với sữa đổ vào
trà. Nhiều người không tin nhưng, một người đàn ông gầy thấp với đôi kính dày bỗng hào hứng nói:
"Chúng ta kiểm định giả thiết đó thử xem!"
<br>Thế là nhiều người khác cũng nhào vào vào cuộc vui! Họ đổ trà và sữa sao cho người phụ nữ
không nhìn thấy. Sau đó người đàn ông đeo mắt kính đưa ly đầu tiên cho người phụ nữ. Người phụ
nữ nhâm nhi một ngụm rồi nói là sữa đã được đổ vào trà. Người đàn ông ghi lại kết quả này về tiếp
tục đưa cho người phụ nữ một ly trà khác về cứ như vậy cho đến hết. Người đàn ông đó chính là
Ronald Aylmer Fisher.
<br>Trong thí nghiệm này ta thấy rằng ngay cả khi đoán mò thì người phụ nữ cũng có 50% xác suất
đoán đúng hoặc đoán sai.
<br>Ngay cả khi người phụ nữ đó có thể chỉ ra sự khác biệt thì người đó vẫn có thể đưa ra kết
quả không chính xác khi một trong những ghi trà không được trộn đều hoặc trà không đủ nóng khi
được pha.
<br>Như vậy thì làm sao chúng ta biết được người phụ nữ ấy có thể năng phân biệt chè đổ vào sữa
hay sữa được đổ vào chè?

<br>kiểm định giả thuyết thống kê là  quá trình tính xác suất  của điều mà chúng ta thấy được,
nếu giả thuyết mà chúng ta đang kiểm định là đúng.  Khi mà xác suất của điều mà chúng ta thấy
được là thấp thì chúng ta kết luận rằng giả thuyết là sai.  Lý do chúng ta làm như vậy là vì
chúng ta dựa trên <font color="#ff1493">nguyên tắc  hợp lý cực đại: <i>những điều đã xảy ra là những điều có xác suất
xảy ra cao nhất</i></font> . Cụ thể hơn, chúng ta lấy thêm ví dụ nữa: <br>

<div class="box">
    <h3>Thuyết tiến hóa</h3>
    <p>Thuyết tiến hóa của Darwin nói rằng các loài sinh vật thay đổi để thích ứng với tự nhiên.
Trong đó, những sinh vật có những đột biến ngẫu nhiên  giúp chúng thích nghi môi trường mới tốt hơn
sẽ  nhiều lợi thế sinh tồn hơn. Dần dần, những loài mới xuất hiện từ những đột biến.
<br>Người ta đã chứng minh thuyết tiến hóa của Darwin như thế nào?  Người ta chứng minh được rằng
loài người khá ổn định qua hàng ngàn năm nhờ việc so sánh phân khối của dung tích hộp sọ ở những
nghĩa trang cũ so với con người hiện tại.
<br>Nhờ  chứng minh được  các chỉ số đo lường trên cơ thể của người Úc bản địa có cùng phân phối
với các chỉ số đo lường của người châu Âu người ta đã bác bỏ được luận điệu rằng một số thổ dân Úc
không phải là người.
<br>… còn khả năng sinh tồn của sinh vật thích nghi tốt nhất thì sao?... Raphael Weldon đã
thực hiện một thí nghiệm lớn để tìm hiểu. Vào thế kỷ 18, các nhà máy Trung Quốc ở phía Nam nước Anh
đã làm nhiều dòng sông sánh đặc với đất sét. Các cảng của Plymouth và Ddartmouth  thay đổi, phần
trong nhiều đất sét hơn so với phần gần biển. Weldon lấy vài trăm con cua từ các cảng này bỏ vào
lọ thủy tinh rồi đổ nước vào. Trong đó, một nửa  số hũ cho nước nhiều đất sét từ các cảng bên
trong vào. Nửa còn lại thì đổ vào nước sạch hơn từ các cảng gần biển. Sau một thời gian, ông đo
mai của các con cua còn sống thì thấy rằng:
<br>Đúng như theo thuyết của Darwin, những con cua còn sống trong hũ nhiều đất sét có chỉ số thay
đổi so với những con cua trong hũ có nước sạch hơn. Nhưng điều này liệu có chứng minh thuyết tiến
hóa?... Rất tiếc, Weldon chết trước khi hoàn thành việc phân tích.
<br>Về sau thì người ta chứng minh được thuyết tiến hóa là đúng với nhiều sinh vật có tuổi thọ
ngắn như vi khuẩn, nhặng,…   Hầu hết các nhà khoa học ngày nay đều chấp nhận tuyết tiến hóa.
        Chưa có học thuyết nào khác đúng với nhiều dữ liệu thực tế như vậy.</p>
</div>

<p>
Chúng ta có thể nghĩ tới phép kiểm định giả thuyết thống kê giống như sự kết hợp giữa nguyên tắc 
ước lượng hợp lý cực đại và phương pháp chứng minh
bằng phản chứng. Để chứng minh giả thuyết $H_0$ là sai thì đầu tiên chúng ta giả sử  $H_0$ là đúng.
Sau đó thì chúng ta sẽ suy luận ngược lại: nếu $H_0$ là đúng thì.....và đến một lúc nào đó chúng
ta có thể  sẽ thấy một điều rất vô lý (trong trong ngôn ngữ của xác suất thống kê thì điều này
được thể hiện bằng một xác suất rất thấp). Như vậy thì chúng ta có thể kết luận là $H_0$ không
thể đúng.<br>
</p>

<div class="box-right">
    <h3>Các bước để kiểm định giả thuyết </h3>
    <p>0. Chọn giả thuyết $H_0$? Ví dụ về cách chọn:
    Khi mà chúng ta làm kiểm định giả thuyết để xem xét xem hai loại phân bóng cái nào tốt hơn thì
    chúng ta chọn giả thuyết $H_0$ là 2 loại phân bón có tác dụng như nhau. Nhưng việc hai loại phân bón
    có tác dụng như nhau không phải là điều chúng ta mong muốn. Nếu chúng ta mong muốn điều đó thì
    chúng ta đã không thực hiện thí nghiệm này. Như vậy thì ta chọn $H_0$  giống như một lâu đài cát mà
    sóng muốn phá vỡ.<br>
    1. Giả sử giả thuyết $H_0$ là đúng thì dưới giả thuyết $H_0$, ta suy ra được ...<br>
    Khi này có 2 trường hợp có thể xảy ra:<br>
    - tìm được điều vô lý (xác suất xảy ra thấp): bác bỏ $H_0$<br>
    - không tìm ra được điều vô lý: không bác bỏ $H_0$<br>
    </p>
</div>

Cụ thể hơn, ta định nghĩa một giá trị xác suất gọi là p-value như sau:
<div class="box-yellow">
    <p>p-value là xác suất mà dưới điều kiện $H_0$ là đúng thì thống kê $T$ mà chúng ta đang sử dụng
    sẽ lớn hơn hoặc bằng ước lượng $\hat{T}$ mà chúng ta tính được từ dữ liệu thực tế, tức là <br>
        $p-value = P(T\ge \hat{T})$</p>
</div>
<figure>
  <img src="img/pvalue.svg" alt="p-value" width="500" height="600">
  <figcaption>Nguồn: Wikipedia. </figcaption>
</figure>
<p><font color="#ff1493">Nhìn hình thì các bạn thấy
  là dữ liệu ở phần đuôi có khả năng xảy ra rất thấp, nên theo nguyên tắc hợp lý cực đại thì
  điều này thật khó chấp nhận. Do đó, </font> <font color="red">khi p-value thấp, chúng ta
  bác bỏ $H_0$</font>  Nhưng thấp là thấp đến cỡ nào? Thường chúng ta sử dụng một ngưỡng
<font color="red"><b>significance level, kí hiệu là $\alpha$</b></font> mà
chúng ta sẽ chọn trước khi tiến hành thí nghiệm để tránh biased view (tức là tác động của những gì
ta thấy đến việc chọn cái ngưỡng này sau đó). Theo "truyền thống", ta thường chọn $\alpha=0.01$ hoặc
$0.05$ hoặc ít thường xuyên hơn là $0.1$. <br>
    Như vậy nếu ta chọn $\alpha = 0.01$ và $p-value = 0.05>\alpha $, chúng ta sẽ không bác bỏ
    $H_0$. Nhưng nếu  $p-value = 0.005<\alpha $ thì chúng ta sẽ  bác bỏ
    $H_0$.<br>
    Nếu  $p-value = 0.015 $, chúng ta sẽ không bác bỏ
    $H_0$ nếu $\alpha = 0.01$,nhưng sẽ  bác bỏ $H_0$ nếu $\alpha = 0.05$.
 </p>
<hr color = "#F333FF" width="400px">
<p>
    Quay trở lại ví dụ về trà và sữa. Giả sử người phụ nữ đoán đúng được 8 ly trong 10 ly mà người
phụ nữ này thử. Vậy, giả sử xác suất cô ấy đoán đúng trong mỗi lần thử là $p$, chúng ta thiết lập phép kiểm định như sau:<br>
$H_0:p=\frac{1}{2}$ <br>
    $H_1: p>\frac{1}{2}$<br>

    Giả sử X là số lần đoán đúng trong 10 lần thì <font color="red">dưới giả thuyết
    $H_0:p=\frac{1}{2}$</font>, ta có $X\sim Binom(10,\frac{1}{2})$. <br>

    $p-value = P(X\ge 8|p=\frac{1}{2})\approx 0.055 $<br>
    Như vậy, với significant-level $\alpha = 0.05$, ta không bác bỏ giả thuyết $H_0$, như vậy chúng ta
    chưa bác bỏ được là cô này chỉ đoán được ngẫu nhiên. <br>

    Giờ ta lại thấy là mới uống có 10 lần thì ít quá. Hay là cho cô ý uống thêm rồi kiểm định lại.
    Thế là cho cô ấy uống thêm 5 ly (xong chắc no nguyên ngày luôn).<br>
    Giả sử sau 5 ly này thì tổng cộng cô ý đoán được 12 ly đúng trong 15 ly.

    Như vậy thì nếu X là số lần đoán đúng trong 15 lần thì <font color="red">dưới giả thuyết
    $H_0:p=\frac{1}{2}$</font>, ta có $X\sim Binom(15,\frac{1}{2})$. <br>

    $p-value = P(X\ge 12|p=\frac{1}{2})\approx 0.018$<br>
    Như vậy thì với significant-level $\alpha = 0.05$, ta bác bỏ giả thuyết $H_0$, và kết luận là
    cô này thực sự có khả năng ấy!
    <br>
    <font color="#ff1493"> Qua ví dụ này thì chúng ta thấy được cỡ mẫu cũng có thể ảnh hưởng  khá
        nhiều đến kết quả kiểm định. Trên thực tế thì không chỉ cỡ mẫu mà còn rất nhiều yếu tố khác
        có thể ảnh hưởng đến kết quả kiểm định, đặc biệt là khi lấy mẫu, trong controlled-study,...
        nên có một trò gọi là p-value hacking mà có mấy bác khát paper sài để được accept.
        Các bạn có thể tìm hiểu về nó để tránh sai sót khi thực hiện thí nghiệm, nhưng đừng dùng
        để gian lận :))
    </font>

</p>

<hr color = "#F333FF" width="400px">
<h2>Bàn về p-value</h2>

<p>P-value:  Trong một thí dụ ông đưa ra có p-value  nhỏ hơn hoặc bằng 0.01, Fisher nói rằng
chỉ một trong 100 giá trị sẽ sẽ vượt quá thống kê đã được tính  một cách ngẫu nhiên. Do đó thì
sự khác biệt giữa các kết quả là rất  đáng kể (significant).
<br>cụm từ “đáng kể” (significant) có thể xem như một dấu hiệu báo cho chúng ta biết rằng xác
suất này đủ thấp để bác bỏ giả thuyết $H_0$. Fisher gọi xác suất cho phép chúng ta tuyên bố đáng kể
(significant) là p-value.Ông cũng đưa ra một số ví dụ về khái niệm này.
Trong một ví dụ Ông cho thấy rằng p-value nhỏ hơn 0.01 và nói: “Chỉ một trong 100 giá trị
sẽ vượt quá thống kê đã được tính một cách ngẫu nhiên. Do đó sự khác biệt giữa các kết quả là đáng
kể.” Ông cũng từng nói rằng: “... một quan sát được xem là đáng kể (significant) nếu nó khó có thể
xảy ra nếu điều mà ta đã giả thuyết là đúng. Thông thường một kết quả có thể được xem như là đáng
kể  nếu khả năng điều này xảy ra ngẫu nhiên là không quá một trong 20 phép thử (trials). Đại lượng
này tuy bất kỳ nhưng lại tiện lợi. . .” Tuy nhiên thì tùy theo ngành và tùy theo nhà phân tích mà
người ta có thể dùng significant level khác nhau để đưa ra kết luận.  Do đó,  trong nhiều bài báo
người ta thường ghi giá trị p-value  hơn là chỉ nói bác bỏ hay không bác bỏ giả thuyết ban đầu.
<br>Để hiểu tại sao chúng ta lại làm như vậy hãy quay trở lại định nghĩa sơ khai của xác suất:
<br>
</p>
<hr color = "#F333FF" width="400px">
<h2><p>Bàn về việc bác bỏ $H_0$</p></h2>
Ta gợi lại:<br>
  <b>Các bước để kiểm định giả thuyết </b>
    <p>0. Chọn giả thuyết $H_0$ <br>
    1. Giả sử giả thuyết $H_0$ là đúng thì dưới giả thuyết $H_0$, ta suy ra được ...<br>
    Khi này có 2 trường hợp có thể xảy ra:<br>
    - tìm được điều vô lý (xác suất xảy ra thấp, tức là p-value thấp): bác bỏ $H_0$<br>
    - không tìm ra được điều vô lý: không bác bỏ $H_0$<br>
    </p>

<p>Như vậy thì việc không bác bỏ được giả thuyết $H_0$ không hề có nghĩa là $H_0$ đúng mà chỉ
    có nghĩa là chúng ta chưa tìm được bằng chứng để bác bỏ $H_0$. Do đó mà người ta thường lập giả
    thuyết $H_0$ là cái mà họ muốn bác bỏ!Một phép kiểm định không bác bỏ giả thuyết $H_0$ thì không có nghĩa $H_0$ là đúng.
    Chuyện này cũng giống như chúng ta  tấn công một cái pháo đài tên là $H_0$.
    Súng bắn ná không hạ được cái pháo đài (nếu ta không bác bỏ được $H_0$) thì ta chuyển
    sang dùng súng aka. Aka không hạ được (ta không bác bỏ được $H_0$)  thì ta chuyển sang dùng súng
    thần công. Nhiều khi súng thần công mới đủ sức  hạ nổi thành ( ta mới bác bỏ được giả thuyết
    $H_0$)! Còn nếu không bắn đá, bắn lửa,... vô!
<p>
<hr color = "#F333FF" width="400px">
<h2>Những điều đáng tranh cãi liên quan đến việc sử dụng kiểm định giả thuyết thống kê </h2>
<p>Deming kịch liệt chỉ trích việc sử dụng kiểm định giả thiết thống kê và việc chúng được
sử dụng rộng rãi. Ông chỉ ra rằng một câu hỏi thực tiễn không thể là sự khác biệt giữa hai phương
pháp A và B  là đáng kể hay không đáng kể. Đối với một sự khác biệt có sẵn nhỏ đến cỡ nào chúng
ta cũng có thể tìm ra một số lần làm thí nghiệm sao cho nó trở nên đáng kể (Given a difference.
.. however small between them...one can find a... number of repetitions of the experiment...
that will produce significance.). Cho nên sự khác biệt là đáng kể hay không thì không quan trọng!
Cái quan trọng là độ khác biệt! <br>

Giả sử p value bằng 0.05 thì chúng ta có thể hiểu rằng khi ta lặp đi lặp lại thí nghiệm này
thật nhiều lần thì trung bình  cứ 20 lần thì mới  có một lần $H_0$ không bị bác bỏ. Nhưng như
vậy thì giả sử có 20 người thực hiện một thí nghiệm độc lập với nhau. 19 người kết luận rằng
$H_0$: " gà có trước trứng có sau" là đúng. Nhưng người thứ 20 lại có p value = 0.05, và người
này quyết định bác bỏ giả thuyết hanh, anh ta tuyên bố: " trứng có trước gà có sau". Khi đó,
bạn nghĩ thế nào?
<br>

p-value giống như bằng chứng trong xử án vậy. p-value yếu (tức là giá trị của p-value lớn) thì
sức cống hiến của nó là nhỏ. Dù nhỏ thì vẫn tốt hơn không có. p-value mạnh (tức là giá trị của p-value
thấp) thì bằng chứng này có sức cống hiến lớn hơn, nhưng nó không giúp ta chắc chắn được 100 %
là $H_0$ đúng. Bạn cũng có thể liên tưởng điều này đến án oan vậy! Và một lần nữa xin nhấn mạnh
rằng, thống kê thì nói đến những khả năng, không phải là sự chắc chắn 100%!<br>

Trước những bất cập của kiểm định giả thuyết như vậy thì  nhiều khi, người ta sử dụng
thêm một công cụ khác, đó là "khoảng tin cậy" (confidence intervals).
</p>
<br>

    <!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cf9633718532342"></script>
<div class="addthis_inline_share_toolbox"></div>
    <div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v3.3"></script>
<div class="fb-comments" data-href="https://ellienguyen.style/" data-width="" data-numposts="5"></div>
    <footer id="main-footer">
        <hr color = "black" width="400px">
            		Copyright &copy; 2019 Ellie Nguyen. All rights reserved.
	</footer>
</body>
</html>